<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore our wide range of cutting-edge drones for aerial photography, videography, mapping, and more.">
    <title>Drone Product Home Page</title> 
    <script src="https://kit.fontawesome.com/3133229378.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/public/CSS/HomePage(n).css">
</head>
<body>  
<section id="header">
    <a href="#"></a>
    <div>
        <ul id="navbar">
            <li><a href="HomePage.html">HOME</a></li>
            <li><a href="/public/shop.html">PRODUCT</a></li>
            <li><a class="active" href="/public/Accessories.html">ACCESSORIES</a></li>
            <li><a href="../public/blogs.html">BLOG</a></li>
            <li><a href="../public/review.html">REVIEW</a></li>
            <li class="qd"><a href="/public/cart.html"><img src="/public/IMG/drone.ico" alt="Drone Icon"></a></li>
        </ul>
    </div>
</section>

<section id="top-header">
    <h2>OUR PRODUCTS</h2>
</section>

<section id="prodetails" class="section-p1">
    <div class="single-pro-image">
        <img src="" width="100%" id="MainImg" alt="">
        <div class="small-img-group">
            <div class="small-img-col"><img src="" class="small-img" alt="Image 1"></div>
            <div class="small-img-col"><img src="" class="small-img" alt="Image 2"></div>
            <div class="small-img-col"><img src="" class="small-img" alt="Image 3"></div>
            <div class="small-img-col"><img src="" class="small-img" alt="Image 4"></div>
        </div>
    </div>

    <div class="single-pro-details"> 
        <h6>Drone / Accessories</h6>
        <h4 id="productName"></h4> 
        <h2 id="price"></h2>
        <input type="number" value="1" id="quantity">
        <button class="normal" id="addtocart" onclick="addToCart()">Add To Cart</button>
        <h4>Description</h4>
        <span id="productDescription"></span>
    </div>
</section>

<section id="newsletter" class="section-p1">
    <div class="newstext">
        <h4>Sign Up for Newsletters</h4>
        <p>Get the latest updates and <span>Special Offers.</span></p>
    </div>
    <div class="form">
        <input type="text" placeholder="Your Email Address">
        <button class="normal">Sign Up</button>
    </div>
</section>
    

    <footer class="section-p1">
    <div class="col">
        <img class="logo" src="/public/IMG/drone.ico" alt="Drone Icon">
        <h4>Contact</h4>
        <p><strong>Address: </strong> 187/3, Uttarpara, Birati, Kolkata-51</p>
        <p><strong>Phone: </strong> +91 9062397886</p>
        <p><strong>Hours: </strong> 10:00 - 18:00, Mon - Sat</p>
        <div class="follow">
            <h4>Follow us</h4>
            <div class="icon">
                <i class="fab fa-facebook-f"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-instagram"></i>
                <i class="fab fa-pinterest-p"></i>
                <i class="fab fa-youtube"></i>
            </div>
        </div>
    </div>

    <div class="col">
        <h4>About</h4>
        <a href="#">About us</a>
        <a href="#">Delivery Information</a>
        <a href="#">Privacy Policy</a>
        <a href="#">Terms & Conditions</a>
        <a href="#">Contact us</a>
        </div>

        <div class="col">
            <h4>My Account</h4>
            <a href="#">Sign In</a>
            <a href="/public/cart.html">View Cart</a>
            <a href="#">My Wishlist</a>
            <a href="#">Track My Order</a>
            <a href="#">Help</a>
        </div>

        <div class="col install">
            <h4>Install App</h4>
            <p>From App Store or Google Play</p>
            <div class="row">
                <img src="../public/IMG/pay/app.jpg" alt="App Store">
                <img src="../public/IMG/pay/play.jpg" alt="Google Play">
            </div>
            <p>Secured Payment Gateways</p>
            <img src="../public/IMG/pay/pay.png" alt="Payment Methods">
        </div>

        <div class="copyright">
            <p>&copy; 2024 Drone Store. All rights reserved.</p>
        </div>
    </footer>

<script>
    var MainImg = document.getElementById("MainImg"); 
    var smallimg = document.getElementsByClassName("small-img");
    var productName = document.getElementById('productName');
    var price = document.getElementById('price');
    var productDescription = document.getElementById('productDescription');
    
    // Retrieve product details from URL parameters
    var params = new URLSearchParams(window.location.search);
    var productNameParam = params.get('productName');
    var priceParam = params.get('price');
    var image1 = params.get('image1');
    var image2 = params.get('image2');
    var image3 = params.get('image3');
    var image4 = params.get('image4');
    var descriptionParam = params.get('description');
    
    // Set product details on the page
    productName.innerText = productNameParam;
    price.innerText = '$' + priceParam;
    MainImg.src = image1;
    productDescription.innerText = descriptionParam;
    
    // Set small images
    smallimg[0].src = image1;
    smallimg[1].src = image2;
    smallimg[2].src = image3;
    smallimg[3].src = image4;
    
    // Change main image on click of small images
    for (var i = 0; i < smallimg.length; i++) {
        smallimg[i].onclick = function() {
            MainImg.src = this.src;
        };
    }

    function addToCart() {
        var quantity = parseInt(document.getElementById('quantity').value);
        
        if (isNaN(quantity) || quantity <= 0) {
            alert("Please enter a valid quantity.");
            return;
        }
        
        var totalPrice = parseFloat(priceParam) * quantity;
        
        var cartItem = {
            id: productNameParam,
            name: productNameParam,
            price: parseFloat(priceParam),
            quantity: quantity,
            image: image1
        };
        
        var cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        var existingItem = cartItems.find(item => item.id === cartItem.id);
        
        if (existingItem) {
            existingItem.quantity += cartItem.quantity;
        } else {
            cartItems.push(cartItem);
        }
        
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        alert("Item added to cart");
    }
</script>

</body>
</html>
